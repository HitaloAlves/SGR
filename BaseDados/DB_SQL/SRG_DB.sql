-- MySQL Script generated by MySQL Workbench
-- Dom 24 Set 2017 02:10:20 BRT
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='TRADITIONAL,ALLOW_INVALID_DATES';

-- -----------------------------------------------------
-- Schema SGR_DB
-- -----------------------------------------------------

-- -----------------------------------------------------
-- Schema SGR_DB
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `SGR_DB` DEFAULT CHARACTER SET utf8 ;
USE `SGR_DB` ;

-- -----------------------------------------------------
-- Table `SGR_DB`.`Convidados`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `SGR_DB`.`Convidados` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `nome` VARCHAR(30) NOT NULL,
  `telefone` VARCHAR(11) NOT NULL,
  `email` VARCHAR(30) NOT NULL,
  `cpf` VARCHAR(11) NOT NULL,
  `sexo` VARCHAR(1) NOT NULL,
  `obs` VARCHAR(100) NOT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `SGR_DB`.`Radios`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `SGR_DB`.`Radios` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `nome` VARCHAR(30) NOT NULL,
  `telefone` VARCHAR(11) NOT NULL,
  `email` VARCHAR(30) NOT NULL,
  `modulacao` DOUBLE NOT NULL,
  `frequencia` VARCHAR(5) NOT NULL,
  `site` VARCHAR(30) NOT NULL,
  `cep` INT(7) NOT NULL,
  `complem` VARCHAR(100) NOT NULL,
  `cnpj` VARCHAR(14) NOT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `SGR_DB`.`Locutores`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `SGR_DB`.`Locutores` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `nome` VARCHAR(30) NOT NULL,
  `telefone` VARCHAR(11) NOT NULL,
  `email` VARCHAR(30) NOT NULL,
  `cpf` VARCHAR(11) NOT NULL,
  `sexo` VARCHAR(1) NOT NULL,
  `dataNasc` DATE NOT NULL,
  `Radio_id` INT NOT NULL,
  PRIMARY KEY (`id`, `Radio_id`),
  INDEX `fk_Locutores_Radios1_idx` (`Radio_id` ASC),
  CONSTRAINT `fk_Locutores_Radios1`
    FOREIGN KEY (`Radio_id`)
    REFERENCES `SGR_DB`.`Radios` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `SGR_DB`.`Responsaveis`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `SGR_DB`.`Responsaveis` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `nome` VARCHAR(30) NOT NULL,
  `telefone` VARCHAR(11) NOT NULL,
  `email` VARCHAR(30) NOT NULL,
  `cpf` VARCHAR(11) NOT NULL,
  `sexo` VARCHAR(1) NOT NULL,
  `cargos` VARCHAR(20) NOT NULL,
  `data` DATE NOT NULL,
  `Radio_id` INT NOT NULL,
  PRIMARY KEY (`id`, `Radio_id`),
  INDEX `fk_Responsaveis_Radios1_idx` (`Radio_id` ASC),
  CONSTRAINT `fk_Responsaveis_Radios1`
    FOREIGN KEY (`Radio_id`)
    REFERENCES `SGR_DB`.`Radios` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `SGR_DB`.`TiposProgramasRadio`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `SGR_DB`.`TiposProgramasRadio` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `nome` VARCHAR(20) NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `SGR_DB`.`ProgramasRadio`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `SGR_DB`.`ProgramasRadio` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `nome` VARCHAR(30) NOT NULL,
  `horario` TIME NOT NULL,
  `tempo` TIME NOT NULL,
  `tipo` INT NOT NULL,
  `Radio` INT NOT NULL,
  `TiposProgramasRadio_id` INT NOT NULL,
  PRIMARY KEY (`id`, `Radio`),
  INDEX `fk_ProgramasRadio_Radios1_idx` (`Radio` ASC),
  INDEX `fk_ProgramasRadio_TiposProgramasRadio1_idx` (`TiposProgramasRadio_id` ASC),
  CONSTRAINT `fk_ProgramasRadio_Radios1`
    FOREIGN KEY (`Radio`)
    REFERENCES `SGR_DB`.`Radios` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_ProgramasRadio_TiposProgramasRadio1`
    FOREIGN KEY (`TiposProgramasRadio_id`)
    REFERENCES `SGR_DB`.`TiposProgramasRadio` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `SGR_DB`.`ListasMusica`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `SGR_DB`.`ListasMusica` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `nome` VARCHAR(20) NOT NULL,
  `Locutores_idLocutores` INT NOT NULL,
  `Radios_idRadios` INT NOT NULL,
  PRIMARY KEY (`id`, `Locutores_idLocutores`, `Radios_idRadios`),
  INDEX `fk_ListasMusica_Locutores1_idx` (`Locutores_idLocutores` ASC),
  INDEX `fk_ListasMusica_Radios1_idx` (`Radios_idRadios` ASC),
  CONSTRAINT `fk_ListasMusica_Locutores1`
    FOREIGN KEY (`Locutores_idLocutores`)
    REFERENCES `SGR_DB`.`Locutores` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_ListasMusica_Radios1`
    FOREIGN KEY (`Radios_idRadios`)
    REFERENCES `SGR_DB`.`Radios` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `SGR_DB`.`EstiloMusicais`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `SGR_DB`.`EstiloMusicais` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `nome` VARCHAR(20) NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `SGR_DB`.`Musicas`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `SGR_DB`.`Musicas` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `nome` VARCHAR(20) NOT NULL,
  `nomeCantor` VARCHAR(15) NOT NULL,
  `banda` VARCHAR(15) NOT NULL,
  `album` VARCHAR(15) NOT NULL,
  `EstiloMusicais_id` INT NOT NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_Musicas_EstiloMusicais1_idx` (`EstiloMusicais_id` ASC),
  CONSTRAINT `fk_Musicas_EstiloMusicais1`
    FOREIGN KEY (`EstiloMusicais_id`)
    REFERENCES `SGR_DB`.`EstiloMusicais` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `SGR_DB`.`ListasMusica_Musicas`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `SGR_DB`.`ListasMusica_Musicas` (
  `ListasMusica_id` INT NOT NULL,
  `Musicas_id` INT NOT NULL,
  PRIMARY KEY (`ListasMusica_id`, `Musicas_id`),
  INDEX `fk_ListasMusica_has_Musicas_Musicas1_idx` (`Musicas_id` ASC),
  INDEX `fk_ListasMusica_has_Musicas_ListasMusica_idx` (`ListasMusica_id` ASC),
  CONSTRAINT `fk_ListasMusica_has_Musicas_ListasMusica`
    FOREIGN KEY (`ListasMusica_id`)
    REFERENCES `SGR_DB`.`ListasMusica` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_ListasMusica_has_Musicas_Musicas1`
    FOREIGN KEY (`Musicas_id`)
    REFERENCES `SGR_DB`.`Musicas` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `SGR_DB`.`ProgramasRadio_Convidados`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `SGR_DB`.`ProgramasRadio_Convidados` (
  `ProgramasRadio_id` INT NOT NULL,
  `Radio_id` INT NOT NULL,
  `Convidados_id` INT NOT NULL,
  PRIMARY KEY (`ProgramasRadio_id`, `Radio_id`, `Convidados_id`),
  INDEX `fk_ProgramasRadio_has_Convidados_Convidados1_idx` (`Convidados_id` ASC),
  INDEX `fk_ProgramasRadio_has_Convidados_ProgramasRadio1_idx` (`ProgramasRadio_id` ASC, `Radio_id` ASC),
  CONSTRAINT `fk_ProgramasRadio_has_Convidados_ProgramasRadio1`
    FOREIGN KEY (`ProgramasRadio_id` , `Radio_id`)
    REFERENCES `SGR_DB`.`ProgramasRadio` (`id` , `Radio`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_ProgramasRadio_has_Convidados_Convidados1`
    FOREIGN KEY (`Convidados_id`)
    REFERENCES `SGR_DB`.`Convidados` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `SGR_DB`.`Admin`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `SGR_DB`.`Admin` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `nome` VARCHAR(30) NOT NULL,
  `telefone` VARCHAR(11) NULL,
  `email` VARCHAR(30) NULL,
  `cpf` VARCHAR(11) NOT NULL,
  `sexo` VARCHAR(1) NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB;


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;
